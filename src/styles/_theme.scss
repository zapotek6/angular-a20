/* ============================================================================
   Theme Configuration - Dark Mode Support
   ============================================================================ */

/* Dark theme overrides - using data-theme attribute */
[data-theme="dark"] {
  color-scheme: dark;

  /* ===== Background Colors ===== */
  --color-bg-base: #0a0a0a;
  --color-bg-elevated: #151515;
  --color-bg-overlay: #1a1a1a;
  --color-bg-muted: #1f1f1f;
  --color-bg-subtle: #2a2a2a;

  /* ===== Surface Colors ===== */
  --color-surface-1: #0a0a0a;
  --color-surface-2: #151515;
  --color-surface-3: #1f1f1f;

  /* ===== Border Colors ===== */
  --color-border-base: #2a2a2a;
  --color-border-strong: #404040;
  --color-border-subtle: #1f1f1f;
  --color-border-focus: #14b8a6;

  /* ===== Text Colors ===== */
  --color-text-base: #ededed;
  --color-text-muted: #a3a3a3;
  --color-text-subtle: #737373;
  --color-text-inverse: #0a0a0a;
  --color-text-link: #14b8a6;

  /* ===== Brand Colors ===== */
  --color-brand-primary: #14b8a6;
  --color-brand-primary-hover: #2dd4bf;
  --color-brand-primary-active: #5eead4;

  /* ===== Semantic Colors - Dark Mode ===== */
  --color-success: #22c55e;
  --color-success-bg: rgba(34, 197, 94, 0.15);
  --color-success-border: rgba(34, 197, 94, 0.3);

  --color-warning: #fbbf24;
  --color-warning-bg: rgba(251, 191, 36, 0.15);
  --color-warning-border: rgba(251, 191, 36, 0.3);

  --color-error: #f87171;
  --color-error-bg: rgba(248, 113, 113, 0.15);
  --color-error-border: rgba(248, 113, 113, 0.3);

  --color-info: #60a5fa;
  --color-info-bg: rgba(96, 165, 250, 0.15);
  --color-info-border: rgba(96, 165, 250, 0.3);

  /* ===== Shadows - Adjusted for Dark Mode ===== */
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.3);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.4), 0 2px 4px -1px rgba(0, 0, 0, 0.3);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.5), 0 4px 6px -2px rgba(0, 0, 0, 0.3);
  --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.6), 0 10px 10px -5px rgba(0, 0, 0, 0.4);
  --shadow-inner: inset 0 2px 4px 0 rgba(0, 0, 0, 0.4);

  /* ===== Focus Ring - Dark Mode ===== */
  --focus-ring: 0 0 0 3px rgba(20, 184, 166, 0.3);

  /* ===== Selection - Dark Mode ===== */
  ::selection {
    background: rgba(20, 184, 166, 0.3);
    color: var(--color-text-base);
  }
}

/* ============================================================================
   Automatic Dark Mode - Respects OS preference
   ============================================================================ */

@media (prefers-color-scheme: dark) {
  :root:not([data-theme="light"]) {
    color-scheme: dark;

    /* Same overrides as [data-theme="dark"] */
    --color-bg-base: #0a0a0a;
    --color-bg-elevated: #151515;
    --color-bg-overlay: #1a1a1a;
    --color-bg-muted: #1f1f1f;
    --color-bg-subtle: #2a2a2a;

    --color-surface-1: #0a0a0a;
    --color-surface-2: #151515;
    --color-surface-3: #1f1f1f;

    --color-border-base: #2a2a2a;
    --color-border-strong: #404040;
    --color-border-subtle: #1f1f1f;
    --color-border-focus: #14b8a6;

    --color-text-base: #ededed;
    --color-text-muted: #a3a3a3;
    --color-text-subtle: #737373;
    --color-text-inverse: #0a0a0a;
    --color-text-link: #14b8a6;

    --color-brand-primary: #14b8a6;
    --color-brand-primary-hover: #2dd4bf;
    --color-brand-primary-active: #5eead4;

    --color-success: #22c55e;
    --color-success-bg: rgba(34, 197, 94, 0.15);
    --color-success-border: rgba(34, 197, 94, 0.3);

    --color-warning: #fbbf24;
    --color-warning-bg: rgba(251, 191, 36, 0.15);
    --color-warning-border: rgba(251, 191, 36, 0.3);

    --color-error: #f87171;
    --color-error-bg: rgba(248, 113, 113, 0.15);
    --color-error-border: rgba(248, 113, 113, 0.3);

    --color-info: #60a5fa;
    --color-info-bg: rgba(96, 165, 250, 0.15);
    --color-info-border: rgba(96, 165, 250, 0.3);

    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.3);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.4), 0 2px 4px -1px rgba(0, 0, 0, 0.3);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.5), 0 4px 6px -2px rgba(0, 0, 0, 0.3);
    --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.6), 0 10px 10px -5px rgba(0, 0, 0, 0.4);
    --shadow-inner: inset 0 2px 4px 0 rgba(0, 0, 0, 0.4);

    --focus-ring: 0 0 0 3px rgba(20, 184, 166, 0.3);
  }

  :root:not([data-theme="light"]) ::selection {
    background: rgba(20, 184, 166, 0.3);
    color: var(--color-text-base);
  }
}

/* ============================================================================
   Theme Utilities & Helper Classes
   ============================================================================ */

/* Theme switcher component styles */
.theme-toggle {
  background: var(--color-bg-elevated);
  border: 1px solid var(--color-border-base);
  border-radius: var(--radius-full);
  padding: var(--space-xs);
  cursor: pointer;
  transition: all var(--transition-fast);

  &:hover {
    background: var(--color-bg-muted);
  }

  &:focus-visible {
    outline: 2px solid var(--color-border-focus);
    outline-offset: var(--focus-ring-offset);
  }
}

/* Force light theme on specific elements */
.force-light-theme {
  color-scheme: light;
  --color-bg-base: #ffffff;
  --color-text-base: #212529;
}

/* Force dark theme on specific elements */
.force-dark-theme {
  color-scheme: dark;
  --color-bg-base: #0a0a0a;
  --color-text-base: #ededed;
}

/* ============================================================================
   High Contrast Mode Support
   ============================================================================ */

@media (prefers-contrast: high) {
  :root {
    --color-border-base: currentColor;
    --shadow-sm: none;
    --shadow-md: 0 0 0 2px currentColor;
    --shadow-lg: 0 0 0 3px currentColor;
  }

  .btn {
    border: 2px solid currentColor;
  }

  .form-input,
  .form-textarea,
  .form-select {
    border-width: 2px;
  }
}
